{"version":3,"sources":["Components/LoginForm/LoginForm.module.scss","API/api.js","Redux/login-reducer.js","Images/Logo Icon.svg","Components/LoginForm/LoginForm.jsx","Components/LoginForm/LoginFormContainer.jsx","Pages/AdminPage/AdminPage.jsx","Pages/StartPage/StartPage.jsx","App.js","Redux/redux-store.js","index.js"],"names":["module","exports","instance","axios","baseURL","headers","simbirSoftAPI","formData","post","then","response","catch","error","SET_USER_TOKEN","SET_RESPONSE","initialState","setResponse","type","loginReducer","state","action","Cookies","set","userToken","window","location","reload","LoginForm","handleSubmitLogimForm","useState","submitError","setError","useEffect","className","s","loginPageWrapper","loginFormContainer","loginLogoWrapper","src","logoImg","logoText","formWrapper","formNameText","formContiner","onSubmit","validate","values","errors","email","password","render","handleSubmit","form","submitting","pristine","name","input","meta","fieldWrapper","fieldLabel","touched","inputField","inputWithError","inputErrorMsg","formBottomBtns","to","connect","login","logIn","loginData","dispatch","a","data","access_token","FormData","append","AdminPage","StartPage","get","App","reducers","combineReducers","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.eb44159b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPageWrapper\":\"LoginForm_loginPageWrapper__3JmS8\",\"loginFormContainer\":\"LoginForm_loginFormContainer__nKcpL\",\"loginLogoWrapper\":\"LoginForm_loginLogoWrapper__3W5gr\",\"logoText\":\"LoginForm_logoText__aBOpk\",\"formWrapper\":\"LoginForm_formWrapper__2UQSk\",\"formNameText\":\"LoginForm_formNameText__1Y9I8\",\"formContiner\":\"LoginForm_formContiner__NqGIY\",\"fieldWrapper\":\"LoginForm_fieldWrapper__3ttFP\",\"fieldLabel\":\"LoginForm_fieldLabel__3ljDd\",\"inputField\":\"LoginForm_inputField__1Qptk\",\"inputErrorMsg\":\"LoginForm_inputErrorMsg__se-zq\",\"inputWithError\":\"LoginForm_inputWithError__e42wJ\",\"formBottomBtns\":\"LoginForm_formBottomBtns__2m77R\",\"submitError\":\"LoginForm_submitError__2ud7O\"};","import * as axios from \"axios\";\r\nconst instance = axios.create({\r\n  baseURL: \"https://api-factory.simbirsoft1.com/api/\",\r\n  headers: {\r\n    \"Access-Control-Allow-Origin\": \"*\",\r\n    \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\r\n    \"X-Api-Factory-Application-Id\": \"5e25c641099b810b946c5d5b\",\r\n  },\r\n});\r\n\r\nexport const simbirSoftAPI = {\r\n  authUser(formData) {\r\n    return instance\r\n      .post(`auth/login`, formData)\r\n      .then((response) => {\r\n        return response;\r\n      })\r\n      .catch((error) => {\r\n         return error.response;\r\n      });\r\n  },\r\n};\r\n","import { simbirSoftAPI } from \"./../API/api\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst SET_USER_TOKEN = \"SET_USER_TOKEN\";\r\nconst SET_RESPONSE = \"SET_RESPONSE\";\r\n\r\nlet initialState = {\r\n  response: [],\r\n};\r\n\r\nconst loginReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_TOKEN: {\r\n      Cookies.set(\"userToken\", action.userToken);\r\n      window.location.reload();\r\n    }\r\n    case SET_RESPONSE: {\r\n      return {\r\n        ...state,\r\n        ...action,\r\n        response: action.response,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setUserToken = (userToken) => ({\r\n  type: SET_USER_TOKEN,\r\n  userToken,\r\n});\r\n\r\nexport const setResponse = (response) => ({\r\n  type: SET_RESPONSE,\r\n  response,\r\n});\r\n\r\nexport const logIn = (loginData) => {\r\n  return async (dispatch) => {\r\n    const response = await simbirSoftAPI.authUser(loginData);\r\n    if (response.data.access_token) {\r\n      dispatch(setUserToken(response.data.access_token));\r\n    } else {\r\n      dispatch(setResponse(response.data));\r\n    }\r\n  };\r\n};\r\n\r\nexport default loginReducer;\r\n","export default __webpack_public_path__ + \"static/media/Logo Icon.bc4f3ee8.svg\";","import React, { useEffect, useState } from \"react\";\r\nimport { Form, Field } from \"react-final-form\";\r\nimport { ReactSVG } from \"react-svg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./LoginForm.module.scss\";\r\nimport logoImg from \"../../Images/Logo Icon.svg\";\r\n\r\nconst LoginForm = ({ handleSubmitLogimForm, response }) => {\r\n  const [submitError, setError] = useState(null);\r\n  useEffect(() => {\r\n    setError(response);\r\n  }, [response]);\r\n  return (\r\n    <div className={s.loginPageWrapper}>\r\n      <div className={s.loginFormContainer}>\r\n        <div className={s.loginLogoWrapper}>\r\n          <ReactSVG src={logoImg} />\r\n          <div className={s.logoText}>Need For Drive</div>\r\n        </div>\r\n        <div className={s.formWrapper}>\r\n          <div className={s.formNameText}>Вход</div>\r\n          <div className={s.formContiner}>\r\n            <Form\r\n              onSubmit={handleSubmitLogimForm}\r\n              validate={(values) => {\r\n                const errors = {};\r\n                if (!values.email) {\r\n                  errors.email = \"Введите почту\";\r\n                }\r\n                if (!values.password) {\r\n                  errors.password = \"Введите пароль\";\r\n                }\r\n\r\n                return errors;\r\n              }}\r\n              render={({\r\n                handleSubmit,\r\n                form,\r\n                submitting,\r\n                pristine,\r\n                values,\r\n              }) => (\r\n                <form onSubmit={handleSubmit}>\r\n                  <Field name=\"email\">\r\n                    {({ input, meta }) => (\r\n                      <div className={s.fieldWrapper}>\r\n                        <label className={s.fieldLabel}>Почта</label>\r\n                        <input\r\n                          className={\r\n                            meta.error && meta.touched\r\n                              ? `${s.inputField} ${s.inputWithError}`\r\n                              : s.inputField\r\n                          }\r\n                          {...input}\r\n                          type=\"text\"\r\n                        />\r\n                        {meta.error && meta.touched && (\r\n                          <div className={s.inputErrorMsg}>{meta.error}</div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </Field>\r\n                  <Field name=\"password\">\r\n                    {({ input, meta }) => (\r\n                      <div className={s.fieldWrapper}>\r\n                        <label className={s.fieldLabel}>Пароль</label>\r\n                        <input\r\n                          className={\r\n                            meta.error && meta.touched\r\n                              ? `${s.inputField} ${s.inputWithError}`\r\n                              : s.inputField\r\n                          }\r\n                          {...input}\r\n                          type=\"password\"\r\n                        />\r\n                        {meta.error && meta.touched && (\r\n                          <div className={s.inputErrorMsg}>{meta.error}</div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </Field>\r\n                  <div className={s.formBottomBtns}>\r\n                    <NavLink to=\"/\">Запросить доступ</NavLink>\r\n                    <button type=\"submit\">Войти</button>\r\n                  </div>\r\n                </form>\r\n              )}\r\n            />\r\n          </div>\r\n          <div className={s.submitError}>{submitError ? submitError : null}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { logIn } from \"../../Redux/login-reducer\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nconst LoginFormContainer = ({ logIn, response }) => {\r\n  const handleSubmitLogimForm = (values) => {\r\n    const formData = new FormData();\r\n    formData.append(\"username\", values.email);\r\n    formData.append(\"password\", values.password);\r\n    formData.append(\"client_secret\", \"4cbcea96de\");\r\n    formData.append(\"client_id\", \"personalId12345\");\r\n    logIn(formData);\r\n  };\r\n  return <LoginForm {...{ handleSubmitLogimForm, response }} />;\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  response: state.login.response,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logIn })(LoginFormContainer);\r\n","import React from \"react\";\r\n\r\nconst AdminPage = () => {\r\n  return (\r\n    <div>\r\n      <div>1</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPage;\r\n","import React from \"react\";\r\nimport LoginFormContainer from \"./../../Components/LoginForm/LoginFormContainer\";\r\nimport Cookies from \"js-cookie\";\r\nimport AdminPage from \"../AdminPage/AdminPage\";\r\n\r\nconst StartPage = () => {\r\n  // Cookies.remove('userToken')\r\n  return (\r\n    <div>\r\n      {Cookies.get(\"userToken\") ? <AdminPage /> : <LoginFormContainer />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StartPage;\r\n","import \"./App.css\";\nimport StartPage from \"./Pages/StartPage/StartPage\";\n\nfunction App() {\n  return <StartPage />;\n}\n\nexport default App;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport loginReducer from \"./login-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  login: loginReducer,\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./Redux/redux-store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}