(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],{4:function(e,r,n){e.exports={loginPageWrapper:"LoginForm_loginPageWrapper__3JmS8",loginFormContainer:"LoginForm_loginFormContainer__nKcpL",loginLogoWrapper:"LoginForm_loginLogoWrapper__3W5gr",logoText:"LoginForm_logoText__aBOpk",formWrapper:"LoginForm_formWrapper__2UQSk",formNameText:"LoginForm_formNameText__1Y9I8",formContiner:"LoginForm_formContiner__NqGIY",fieldWrapper:"LoginForm_fieldWrapper__3ttFP",fieldLabel:"LoginForm_fieldLabel__3ljDd",inputField:"LoginForm_inputField__1Qptk",inputErrorMsg:"LoginForm_inputErrorMsg__se-zq",inputWithError:"LoginForm_inputWithError__e42wJ",formBottomBtns:"LoginForm_formBottomBtns__2m77R",submitError:"LoginForm_submitError__2ud7O"}},42:function(e,r,n){},69:function(e,r,n){},70:function(e,r,n){"use strict";n.r(r);var t=n(0),o=n.n(t),a=n(10),i=n.n(a),c=n(14),s=(n(42),n(13)),l=n(19),d=n.n(l),p=n(30),u=n(8),m=n(31).create({baseURL:"https://api-factory.simbirsoft1.com/api/",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}}),j=function(e){return m.post("auth/login",e).then((function(e){return e})).catch((function(e){return e.response}))},b=n(12),O=n.n(b),f="SET_USER_TOKEN",g="SET_RESPONSE",h={response:[]},_=function(e){return{type:g,response:e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case f:O.a.set("userToken",r.userToken),window.location.reload();case g:return Object(u.a)(Object(u.a)(Object(u.a)({},e),r),{},{response:r.response});default:return e}},v=n(36),F=n(16),L=n(37),N=n(4),E=n.n(N),w=n.p+"static/media/Logo Icon.bc4f3ee8.svg",T=n(2),W=function(e){var r=e.handleSubmitLogimForm,n=e.response,o=Object(t.useState)(null),a=Object(v.a)(o,2),i=a[0],s=a[1];return Object(t.useEffect)((function(){s(n)}),[n]),Object(T.jsx)("div",{className:E.a.loginPageWrapper,children:Object(T.jsxs)("div",{className:E.a.loginFormContainer,children:[Object(T.jsxs)("div",{className:E.a.loginLogoWrapper,children:[Object(T.jsx)(L.a,{src:w}),Object(T.jsx)("div",{className:E.a.logoText,children:"Need For Drive"})]}),Object(T.jsxs)("div",{className:E.a.formWrapper,children:[Object(T.jsx)("div",{className:E.a.formNameText,children:"\u0412\u0445\u043e\u0434"}),Object(T.jsx)("div",{className:E.a.formContiner,children:Object(T.jsx)(F.b,{onSubmit:r,validate:function(e){var r={};return e.email||(r.email="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443"),e.password||(r.password="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),r},render:function(e){var r=e.handleSubmit;e.form,e.submitting,e.pristine,e.values;return Object(T.jsxs)("form",{onSubmit:r,children:[Object(T.jsx)(F.a,{name:"email",children:function(e){var r=e.input,n=e.meta;return Object(T.jsxs)("div",{className:E.a.fieldWrapper,children:[Object(T.jsx)("label",{className:E.a.fieldLabel,children:"\u041f\u043e\u0447\u0442\u0430"}),Object(T.jsx)("input",Object(u.a)(Object(u.a)({className:n.error&&n.touched?"".concat(E.a.inputField," ").concat(E.a.inputWithError):E.a.inputField},r),{},{type:"text"})),n.error&&n.touched&&Object(T.jsx)("div",{className:E.a.inputErrorMsg,children:n.error})]})}}),Object(T.jsx)(F.a,{name:"password",children:function(e){var r=e.input,n=e.meta;return Object(T.jsxs)("div",{className:E.a.fieldWrapper,children:[Object(T.jsx)("label",{className:E.a.fieldLabel,children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(T.jsx)("input",Object(u.a)(Object(u.a)({className:n.error&&n.touched?"".concat(E.a.inputField," ").concat(E.a.inputWithError):E.a.inputField},r),{},{type:"password"})),n.error&&n.touched&&Object(T.jsx)("div",{className:E.a.inputErrorMsg,children:n.error})]})}}),Object(T.jsxs)("div",{className:E.a.formBottomBtns,children:[Object(T.jsx)(c.b,{to:"/",children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(T.jsx)("button",{type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}})}),Object(T.jsx)("div",{className:E.a.submitError,children:i||null})]})]})})},S=Object(s.b)((function(e){return{response:e.login.response}}),{logIn:function(e){return function(){var r=Object(p.a)(d.a.mark((function r(n){var t;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j(e);case 2:(t=r.sent).data.access_token?n((o=t.data.access_token,{type:f,userToken:o})):n(_(t.data));case 4:case"end":return r.stop()}var o}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var r=e.logIn,n=e.response;return Object(T.jsx)(W,{handleSubmitLogimForm:function(e){var n=new FormData;n.append("username",e.email),n.append("password",e.password),n.append("client_secret","4cbcea96de"),n.append("client_id","personalId12345"),r(n)},response:n})})),k=function(){return Object(T.jsx)("div",{children:Object(T.jsx)("div",{children:"1"})})},y=function(){return Object(T.jsx)("div",{children:O.a.get("userToken")?Object(T.jsx)(k,{}):Object(T.jsx)(S,{})})};var C=function(){return Object(T.jsx)(y,{})},I=(n(69),n(15)),P=n(35),B=Object(I.b)({login:x}),A=Object(I.c)(B,Object(I.a)(P.a));window.store=A;var M=A;i.a.render(Object(T.jsx)(o.a.StrictMode,{children:Object(T.jsx)(c.a,{basename:"/nfd-admin-panel",children:Object(T.jsx)(s.a,{store:M,children:Object(T.jsx)(C,{})})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.eb44159b.chunk.js.map